<script src="../../../../../../../../AraWorkflowEngine/AraWorkflow/ClientApp/src/app/app.module.ts"></script>
<p-table *ngIf="cols" [columns]="cols"
         [value]="list" [paginator]="true" [rows]="10"
         (onRowSelect)="onRowSelect($event)" selectionMode="single"
         [(selection)]="selectedRec" dataKey="id">

  <ng-template pTemplate="caption">
    {{caption}}
  </ng-template>

  <ng-template pTemplate="header" let-columns>
    <tr>
      <th *ngFor="let col of columns">
        {{col.header}}
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-columns="columns">
    <tr [pSelectableRow]="rowData">
      <td *ngFor="let col of columns">
        {{rowData[col.field]}}
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="summary" let-rowData>
    <div style="text-align:left">
      <button type="button" pButton icon="fa fa-plus" (click)="showDialogToAdd()" label="جدید"></button>
    </div>
  </ng-template>
</p-table>

<div class="ui-rtl" dir="rtl">

<p-dialog  header="جزئیات رکورد" [(visible)]="displayDialog"
          [responsive]="true" showEffect="fade" [modal]="true"
          [style]="{ minWidth: '600px'}"
          [maximizable]="true" [baseZIndex]="10000"
           [closable]="true"
          >
  <form [formGroup]="formGroup" (ngSubmit)="onsubmit($event)">

    <app-dynamic-form-generator
      #dynaForm
      [inputs]="inputs"
      [FormInfo]="formInfo"
      [formGroup]="formGroup"
    ></app-dynamic-form-generator>


  </form>

  {{!dynaForm  ?  'فرم نال است':null }}

  <p-footer>
    <div class="ui-dialog-buttonpane ui-helper-clearfix">
      <button type="button" pButton icon="fa fa-check" (click)="onsubmit(null)" label="ذخیره"></button>
      <button type="button" pButton icon="fa fa-close" (click)="delete(null)" label="حذف"></button>
      <button type="button" pButton icon="fa fa-close" (click)="displayDialog=false" label="لغو"></button>
    </div>
  </p-footer>
</p-dialog>
</div>
